<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —ç–º–æ–¥–∑–∏</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
  <style>
    :root{
      --bg:#0f1220; --card:#171a2a; --text:#e8ebff; --muted:#9aa3c7;
      --accent:#6ea8ff; --accent-2:#7b6cff; --btn:#2a2f45; --btn-hover:#343a55;
      --shadow:0 10px 30px rgba(0,0,0,0.25); --radius:18px;
    }
    body{margin:0; font-family:sans-serif; background:var(--bg); color:var(--text);}
    .wrap{max-width:980px; margin:0 auto; padding:16px;}
    header{display:flex; justify-content:space-between; align-items:center; padding:16px;}
    .cart-btn{color:var(--text); text-decoration:none; padding:10px 14px; border-radius:999px; background:var(--btn);}
    .cart-btn:hover{background:var(--btn-hover);}
    .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); gap:16px;}
    .card{background:var(--card); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow); display:flex; flex-direction:column; gap:10px; text-align:center;}
    .emoji-box{aspect-ratio:1/1; border-radius:14px; background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02)); display:grid; place-items:center; border:1px dashed rgba(255,255,255,0.08);}
    .emoji-box div{width:100%; height:100%;}
    .name{font-size:15px; font-weight:600;}
    .btn{margin-top:8px; padding:10px 12px; border-radius:12px; background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:white; border:none; font-weight:700; cursor:pointer; box-shadow:var(--shadow);}
    footer{margin-top:40px; padding:16px; border-top:1px solid rgba(255,255,255,0.06); color:var(--muted);}
  </style>
</head>
<body>
<header class="wrap">
  <h1>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ Telegram —ç–º–æ–¥–∑–∏</h1>
  <a class="cart-btn" href="cart.html">üõí –ö–æ—Ä–∑–∏–Ω–∞</a>
</header>

<main class="wrap">
  <div class="grid" id="grid"></div>
</main>

<footer class="wrap">¬© theConCreator</footer>

<script>
const items = [
  {id:"Flag1", name:"–§–ª–∞–≥", file:"Flag1.json"},
  {id:"Phone", name:"–¢–µ–ª–µ—Ñ–æ–Ω", file:"Phone.json"},
  {id:"Card", name:"–ö–∞—Ä—Ç–æ—á–∫–∞", file:"Card.json"},
  {id:"Case", name:"–ö–µ–π—Å", file:"Case.json"},
  {id:"HeartArms", name:"–°–µ—Ä–¥—Ü–µ", file:"HeartArms.json"},
  {id:"TopSign", name:"–¢–û–ü", file:"TopSign.json"}
];
const PRICE=0.8;
const grid=document.getElementById("grid");

function getCart(){return JSON.parse(localStorage.getItem("cart")||"[]");}
function saveCart(cart){localStorage.setItem("cart",JSON.stringify(cart));}

function toggleCart(item){
  let cart=getCart();
  const idx=cart.findIndex(c=>c.id===item.id);
  if(idx>-1){cart.splice(idx,1);} else {cart.push({...item,price:PRICE});}
  saveCart(cart); render();
}

function inCart(item){return getCart().some(c=>c.id===item.id);}

function render(){
  grid.innerHTML=items.map(item=>`
    <div class="card">
      <div class="emoji-box"><div id="anim-${item.id}"></div></div>
      <div class="name">${item.name}</div>
      <button class="btn" onclick='toggleCart(${JSON.stringify(item)})'>
        ${inCart(item) ? "–£–±—Ä–∞—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã" : "–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É"}
      </button>
    </div>
  `).join('');

  items.forEach(item=>{
    lottie.loadAnimation({
      container:document.getElementById("anim-"+item.id),
      renderer:"svg", loop:true, autoplay:true,
      path:item.file
    });
  });
}

render();
</script>
</body>
</html>