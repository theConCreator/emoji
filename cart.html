<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Корзина</title>
<style>
body{margin:0;font-family:sans-serif;background:#0f1220;color:#e8ebff;padding:16px;}
.card{background:#171a2a;border-radius:12px;padding:12px;margin-bottom:12px;display:flex;align-items:center;gap:10px;}
.card img{width:50px;height:50px;}
.btn{margin-top:8px;padding:10px 12px;border-radius:12px;background:linear-gradient(135deg,#6ea8ff,#7b6cff);color:white;border:none;font-weight:700;cursor:pointer;}
label{display:block;margin:6px 0;}
input[type="text"]{padding:6px;border-radius:6px;border:none;width:100%;}
input[type="color"]

{width:50px;height:30px;border:none;vertical-align:middle;}
</style>
</head>
<body>
<h1>Корзина</h1>
<div id="cart"></div>

<h2>Настройки заказа</h2>
<label>Ник:
  <input type="text" id="nick" placeholder="Ваш ник">
</label>
<label>Основной цвет:
  <input type="color" id="mainColor" value="#000000">
</label>
<label>Второстепенный цвет:
  <input type="color" id="secondaryColor" value="#ffffff">
</label>
<label>Логотип:
  <button id="logoBtn">Отправлю логотип в Telegram</button>

</label>

<button class="btn" id="sendOrder">Оформить заказ и открыть Telegram</button>

<script>
const cartDiv = document.getElementById("cart");
const logoBtn = document.getElementById("logoBtn");
const sendBtn = document.getElementById("sendOrder");

function getCart(){return JSON.parse(localStorage.getItem("cart")||"[]");}

function renderCart(){
  const cart = getCart();
  if(cart.length===0) cartDiv.innerHTML="<p>Корзина пуста</p>";
  else cartDiv.innerHTML=cart.map(i=>`
    <div class="card">
      <img src="${i.id}.png" alt="${i.name}">
      <div>${i.name} — $${i.price.toFixed(2)}</div>

    </div>
  `).join('');
}
renderCart();

logoBtn.onclick = ()=>{
  alert("Логотип нужно будет отправить вместе с заказом в Telegram");
}

sendBtn.onclick = ()=>{
  const cart = getCart();
  if(cart.length===0){alert("Корзина пуста!"); return;}
  const nick = document.getElementById("nick").value || "Не указан";
  const mainColor = document.getElementById("mainColor").value;
  const secondaryColor = document.getElementById("secondaryColor").value;

  let text = `Заказ от ${nick}:\n`;

  cart.forEach(i=>{text+=`- ${i.name} — $${i.price.toFixed(2)}\n`});
  text += `Основной цвет: ${mainColor}\nВторостепенный цвет: ${secondaryColor}\nЛоготип: будет отправлен в Telegram`;

  const username = "theConCreator";
  window.open(`https://t.me/${username}?start=${encodeURIComponent(text)}`, "_blank");
}
</script>
</body>
</html>
